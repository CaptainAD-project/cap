<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.app.captain.mapper.MypageMapper">
<!-- 멤버의 정보를 가져오는 쿼리 -->
    <select id="select" resultType="mypageDTO">
        select member_id, member_identification, member_password, member_email, member_name,
			member_nickname, member_phone, member_birth, member_gender, member_status,
			member_file_original_name, member_file_uuid, member_file_path, member_file_size,
			member_file_type
		from tbl_member
		where member_id = #{memberId}
    </select>

<!-- 댓글 갯수를 조회 -->
    <select id="replyCount" resultType="long">
        select count(group_reply_id) from tbl_group_reply where member_id = #{memberId}
    </select>

<!-- 보고서 갯수를 조회 -->

    <update id="update">
        update tbl_member
        SET member_password=#{memberPassword}, member_nickname=#{memberNickname}, member_birth=#{memberBirth}, member_file_original_name=#{memberFileOriginalName}, member_file_uuid=#{memberFileUuid}, member_file_path=#{memberFilePath}, member_file_size=#{memberFileSize}, member_file_type=#{memberFileType}
        where member_id=#{memberId}
    </update>

    <delete id="delete">
        delete from tbl_member
        where member_id = #{memberId}
    </delete>
</mapper>